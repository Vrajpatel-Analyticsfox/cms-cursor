{
  "info": {
    "name": "UC003 Enhanced Legal Case Management with Documents",
    "description": "Comprehensive API collection for Legal Case Management with integrated document upload capabilities",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{auth_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "{{base_url}}",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "{{auth_token}}",
      "type": "string"
    },
    {
      "key": "case_id",
      "value": "{{case_id}}",
      "type": "string"
    },
    {
      "key": "document_id",
      "value": "{{document_id}}",
      "type": "string"
    },
    {
      "key": "lawyer_id",
      "value": "{{lawyer_id}}",
      "type": "string"
    },
    {
      "key": "loan_account_number",
      "value": "{{loan_account_number}}",
      "type": "string"
    },
    {
      "key": "case_type",
      "value": "{{case_type}}",
      "type": "string"
    },
    {
      "key": "court_name",
      "value": "{{court_name}}",
      "type": "string"
    },
    {
      "key": "filing_jurisdiction",
      "value": "{{filing_jurisdiction}}",
      "type": "string"
    },
    {
      "key": "case_filed_date",
      "value": "{{case_filed_date}}",
      "type": "string"
    },
    {
      "key": "next_hearing_date",
      "value": "{{next_hearing_date}}",
      "type": "string"
    },
    {
      "key": "case_remarks",
      "value": "{{case_remarks}}",
      "type": "string"
    },
    {
      "key": "document_name_1",
      "value": "{{document_name_1}}",
      "type": "string"
    },
    {
      "key": "document_name_2",
      "value": "{{document_name_2}}",
      "type": "string"
    },
    {
      "key": "document_type_1",
      "value": "{{document_type_1}}",
      "type": "string"
    },
    {
      "key": "document_type_2",
      "value": "{{document_type_2}}",
      "type": "string"
    },
    {
      "key": "hearing_date",
      "value": "{{hearing_date}}",
      "type": "string"
    },
    {
      "key": "document_date",
      "value": "{{document_date}}",
      "type": "string"
    },
    {
      "key": "confidential_flag",
      "value": "{{confidential_flag}}",
      "type": "string"
    },
    {
      "key": "document_remarks",
      "value": "{{document_remarks}}",
      "type": "string"
    },
    {
      "key": "page",
      "value": "{{page}}",
      "type": "string"
    },
    {
      "key": "limit",
      "value": "{{limit}}",
      "type": "string"
    },
    {
      "key": "status_filter",
      "value": "{{status_filter}}",
      "type": "string"
    },
    {
      "key": "document_type_filter",
      "value": "{{document_type_filter}}",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Legal Case Management with Documents",
      "item": [
        {
          "name": "Create Legal Case with Documents",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "loanAccountNumber",
                  "value": "{{loan_account_number}}",
                  "type": "text",
                  "description": "Loan account number"
                },
                {
                  "key": "caseType",
                  "value": "{{case_type}}",
                  "type": "text",
                  "description": "Type of legal case"
                },
                {
                  "key": "courtName",
                  "value": "{{court_name}}",
                  "type": "text",
                  "description": "Court name"
                },
                {
                  "key": "caseFiledDate",
                  "value": "{{case_filed_date}}",
                  "type": "text",
                  "description": "Case filed date"
                },
                {
                  "key": "filingJurisdiction",
                  "value": "{{filing_jurisdiction}}",
                  "type": "text",
                  "description": "Filing jurisdiction"
                },
                {
                  "key": "currentStatus",
                  "value": "Filed",
                  "type": "text",
                  "description": "Current status"
                },
                {
                  "key": "lawyerAssignedId",
                  "value": "{{lawyer_id}}",
                  "type": "text",
                  "description": "Lawyer assigned ID"
                },
                {
                  "key": "nextHearingDate",
                  "value": "{{next_hearing_date}}",
                  "type": "text",
                  "description": "Next hearing date"
                },
                {
                  "key": "caseRemarks",
                  "value": "{{case_remarks}}",
                  "type": "text",
                  "description": "Case remarks"
                },
                {
                  "key": "documents",
                  "value": "[{\"documentName\":\"{{document_name_1}}\",\"caseDocumentType\":\"{{document_type_1}}\",\"hearingDate\":\"{{hearing_date}}\",\"documentDate\":\"{{document_date}}\",\"confidentialFlag\":{{confidential_flag}},\"remarks\":\"{{document_remarks}}\"},{\"documentName\":\"{{document_name_2}}\",\"caseDocumentType\":\"{{document_type_2}}\",\"hearingDate\":\"{{hearing_date}}\",\"confidentialFlag\":{{confidential_flag}},\"remarks\":\"Court summons for defendant\"}]",
                  "type": "text",
                  "description": "Document metadata (JSON array)"
                },
                {
                  "key": "files",
                  "type": "file",
                  "src": [],
                  "description": "Document files to upload"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/legal-cases-enhanced",
              "host": ["{{base_url}}"],
              "path": ["legal-cases-enhanced"]
            },
            "description": "Create a new legal case with optional document uploads"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "loanAccountNumber",
                      "value": "LN4567890",
                      "type": "text"
                    },
                    {
                      "key": "caseType",
                      "value": "Civil",
                      "type": "text"
                    },
                    {
                      "key": "courtName",
                      "value": "Mumbai Sessions Court",
                      "type": "text"
                    },
                    {
                      "key": "caseFiledDate",
                      "value": "2025-07-21",
                      "type": "text"
                    },
                    {
                      "key": "filingJurisdiction",
                      "value": "Mumbai, Maharashtra",
                      "type": "text"
                    },
                    {
                      "key": "documents",
                      "value": "[{\"documentName\":\"Affidavit\",\"caseDocumentType\":\"Affidavit\"}]",
                      "type": "text"
                    },
                    {
                      "key": "files",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced"]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": true,\n  \"message\": \"Legal case created successfully with 2 documents\",\n  \"data\": {\n    \"case\": {\n      \"id\": \"case-uuid\",\n      \"caseId\": \"LC-20250721-001\",\n      \"loanAccountNumber\": \"{{loan_account_number}}\",\n      \"caseType\": \"{{case_type}}\",\n      \"courtName\": \"{{court_name}}\",\n      \"caseFiledDate\": \"{{case_filed_date}}\",\n      \"filingJurisdiction\": \"{{filing_jurisdiction}}\",\n      \"currentStatus\": \"Filed\",\n      \"lawyerAssignedId\": \"{{lawyer_id}}\",\n      \"nextHearingDate\": \"{{next_hearing_date}}\",\n      \"caseRemarks\": \"{{case_remarks}}\",\n      \"createdAt\": \"2025-07-21T10:30:00Z\",\n      \"updatedAt\": \"2025-07-21T10:30:00Z\"\n    },\n    \"documents\": [\n      {\n        \"id\": \"doc-uuid-1\",\n        \"documentName\": \"{{document_name_1}}\",\n        \"originalFileName\": \"affidavit.pdf\",\n        \"caseDocumentType\": \"{{document_type_1}}\",\n        \"hearingDate\": \"{{hearing_date}}\",\n        \"documentDate\": \"{{document_date}}\",\n        \"confidentialFlag\": false,\n        \"remarks\": \"{{document_remarks}}\",\n        \"uploadDate\": \"2025-07-21T10:30:00Z\",\n        \"uploadedBy\": \"system\"\n      },\n      {\n        \"id\": \"doc-uuid-2\",\n        \"documentName\": \"{{document_name_2}}\",\n        \"originalFileName\": \"summons.pdf\",\n        \"caseDocumentType\": \"{{document_type_2}}\",\n        \"hearingDate\": \"{{hearing_date}}\",\n        \"confidentialFlag\": false,\n        \"remarks\": \"Court summons for defendant\",\n        \"uploadDate\": \"2025-07-21T10:30:00Z\",\n        \"uploadedBy\": \"system\"\n      }\n    ],\n    \"summary\": {\n      \"totalDocuments\": 2,\n      \"documentsByType\": {\n        \"{{document_type_1}}\": 1,\n        \"{{document_type_2}}\": 1\n      }\n    }\n  }\n}"
            },
            {
              "name": "Validation Error Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "loanAccountNumber",
                      "value": "",
                      "type": "text"
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced"]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"statusCode\": 400,\n  \"message\": [\n    \"loanAccountNumber should not be empty\",\n    \"caseType should not be empty\",\n    \"courtName should not be empty\",\n    \"caseFiledDate should not be empty\",\n    \"filingJurisdiction should not be empty\"\n  ],\n  \"error\": \"Bad Request\"\n}"
            },
            {
              "name": "File Upload Error Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "loanAccountNumber",
                      "value": "{{loan_account_number}}",
                      "type": "text"
                    },
                    {
                      "key": "caseType",
                      "value": "{{case_type}}",
                      "type": "text"
                    },
                    {
                      "key": "courtName",
                      "value": "{{court_name}}",
                      "type": "text"
                    },
                    {
                      "key": "caseFiledDate",
                      "value": "{{case_filed_date}}",
                      "type": "text"
                    },
                    {
                      "key": "filingJurisdiction",
                      "value": "{{filing_jurisdiction}}",
                      "type": "text"
                    },
                    {
                      "key": "documents",
                      "value": "[{\"documentName\":\"Test Document\",\"caseDocumentType\":\"Affidavit\"}]",
                      "type": "text"
                    },
                    {
                      "key": "files",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced"]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"statusCode\": 400,\n  \"message\": \"Number of files must match number of documents specified\",\n  \"error\": \"Bad Request\"\n}"
            },
            {
              "name": "Unauthorized Error Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced"]
                }
              },
              "status": "Unauthorized",
              "code": 401,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"statusCode\": 401,\n  \"message\": \"Unauthorized\",\n  \"error\": \"Unauthorized\"\n}"
            }
          ]
        },
        {
          "name": "Update Legal Case with Documents",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "currentStatus",
                  "value": "Under Trial",
                  "type": "text",
                  "description": "Updated status"
                },
                {
                  "key": "nextHearingDate",
                  "value": "2025-09-15",
                  "type": "text",
                  "description": "Updated hearing date"
                },
                {
                  "key": "lastHearingOutcome",
                  "value": "Case adjourned to next hearing",
                  "type": "text",
                  "description": "Last hearing outcome"
                },
                {
                  "key": "documentsToAdd",
                  "value": "[{\"documentName\":\"Evidence Document\",\"caseDocumentType\":\"Evidence\",\"hearingDate\":\"2025-09-15\",\"confidentialFlag\":false,\"remarks\":\"Additional evidence for case\"}]",
                  "type": "text",
                  "description": "Documents to add (JSON array)"
                },
                {
                  "key": "documentsToRemove",
                  "value": "[\"doc-uuid-to-remove\"]",
                  "type": "text",
                  "description": "Document IDs to remove (JSON array)"
                },
                {
                  "key": "files",
                  "type": "file",
                  "src": [],
                  "description": "New document files to upload"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}",
              "host": ["{{base_url}}"],
              "path": ["legal-cases-enhanced", "{{case_id}}"]
            },
            "description": "Update an existing legal case with document operations"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "PUT",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "currentStatus",
                      "value": "Under Trial",
                      "type": "text"
                    },
                    {
                      "key": "documentsToAdd",
                      "value": "[{\"documentName\":\"Evidence\",\"caseDocumentType\":\"Evidence\"}]",
                      "type": "text"
                    },
                    {
                      "key": "files",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced", "{{case_id}}"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": true,\n  \"message\": \"Legal case updated successfully. Added: 1, Removed: 0\",\n  \"data\": {\n    \"case\": {\n      \"id\": \"case-uuid\",\n      \"caseId\": \"LC-20250721-001\",\n      \"currentStatus\": \"Under Trial\",\n      \"nextHearingDate\": \"2025-09-15\",\n      \"lastHearingOutcome\": \"Case adjourned to next hearing\",\n      \"updatedAt\": \"2025-07-21T11:30:00Z\"\n    },\n    \"documentsAdded\": [\n      {\n        \"id\": \"doc-uuid-3\",\n        \"documentName\": \"Evidence Document\",\n        \"originalFileName\": \"evidence.pdf\",\n        \"caseDocumentType\": \"Evidence\",\n        \"hearingDate\": \"2025-09-15\",\n        \"confidentialFlag\": false,\n        \"remarks\": \"Additional evidence for case\",\n        \"uploadDate\": \"2025-07-21T11:30:00Z\",\n        \"uploadedBy\": \"system\"\n      }\n    ],\n    \"documentsRemoved\": [],\n    \"summary\": {\n      \"totalDocuments\": 3,\n      \"documentsByType\": {\n        \"Affidavit\": 1,\n        \"Summons\": 1,\n        \"Evidence\": 1\n      }\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Legal Case with Documents",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}/with-documents",
              "host": ["{{base_url}}"],
              "path": ["legal-cases-enhanced", "{{case_id}}", "with-documents"]
            },
            "description": "Get legal case details with all associated documents"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}/with-documents",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced", "{{case_id}}", "with-documents"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": true,\n  \"data\": {\n    \"case\": {\n      \"id\": \"case-uuid\",\n      \"caseId\": \"LC-20250721-001\",\n      \"loanAccountNumber\": \"LN4567890\",\n      \"caseType\": \"Civil\",\n      \"courtName\": \"Mumbai Sessions Court\",\n      \"caseFiledDate\": \"2025-07-21\",\n      \"filingJurisdiction\": \"Mumbai, Maharashtra\",\n      \"currentStatus\": \"Under Trial\",\n      \"lawyerAssignedId\": \"uuid-lawyer-id\",\n      \"nextHearingDate\": \"2025-09-15\",\n      \"lastHearingOutcome\": \"Case adjourned to next hearing\",\n      \"caseRemarks\": \"Initial case filing for loan default\",\n      \"createdAt\": \"2025-07-21T10:30:00Z\",\n      \"updatedAt\": \"2025-07-21T11:30:00Z\"\n    },\n    \"documents\": [\n      {\n        \"id\": \"doc-uuid-1\",\n        \"documentName\": \"Affidavit of John Doe\",\n        \"originalFileName\": \"affidavit.pdf\",\n        \"caseDocumentType\": \"Affidavit\",\n        \"hearingDate\": \"2025-08-15\",\n        \"documentDate\": \"2025-07-21\",\n        \"confidentialFlag\": false,\n        \"remarks\": \"Initial affidavit for case proceedings\",\n        \"uploadDate\": \"2025-07-21T10:30:00Z\",\n        \"uploadedBy\": \"system\"\n      },\n      {\n        \"id\": \"doc-uuid-2\",\n        \"documentName\": \"Summons Document\",\n        \"originalFileName\": \"summons.pdf\",\n        \"caseDocumentType\": \"Summons\",\n        \"hearingDate\": \"2025-08-15\",\n        \"confidentialFlag\": false,\n        \"remarks\": \"Court summons for defendant\",\n        \"uploadDate\": \"2025-07-21T10:30:00Z\",\n        \"uploadedBy\": \"system\"\n      },\n      {\n        \"id\": \"doc-uuid-3\",\n        \"documentName\": \"Evidence Document\",\n        \"originalFileName\": \"evidence.pdf\",\n        \"caseDocumentType\": \"Evidence\",\n        \"hearingDate\": \"2025-09-15\",\n        \"confidentialFlag\": false,\n        \"remarks\": \"Additional evidence for case\",\n        \"uploadDate\": \"2025-07-21T11:30:00Z\",\n        \"uploadedBy\": \"system\"\n      }\n    ],\n    \"summary\": {\n      \"totalDocuments\": 3,\n      \"documentsByType\": {\n        \"Affidavit\": 1,\n        \"Summons\": 1,\n        \"Evidence\": 1\n      },\n      \"recentDocuments\": [\n        {\n          \"id\": \"doc-uuid-3\",\n          \"documentName\": \"Evidence Document\",\n          \"originalFileName\": \"evidence.pdf\",\n          \"caseDocumentType\": \"Evidence\",\n          \"uploadDate\": \"2025-07-21T11:30:00Z\"\n        },\n        {\n          \"id\": \"doc-uuid-2\",\n          \"documentName\": \"Summons Document\",\n          \"originalFileName\": \"summons.pdf\",\n          \"caseDocumentType\": \"Summons\",\n          \"uploadDate\": \"2025-07-21T10:30:00Z\"\n        }\n      ]\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Case Document Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}/documents/statistics",
              "host": ["{{base_url}}"],
              "path": ["legal-cases-enhanced", "{{case_id}}", "documents", "statistics"]
            },
            "description": "Get detailed statistics for case documents"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}/documents/statistics",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced", "{{case_id}}", "documents", "statistics"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": true,\n  \"data\": {\n    \"totalDocuments\": 3,\n    \"documentsByType\": {\n      \"Affidavit\": 1,\n      \"Summons\": 1,\n      \"Evidence\": 1\n    },\n    \"documentsByStatus\": {\n      \"active\": 3\n    },\n    \"totalSize\": \"2.5 MB\",\n    \"averageSize\": \"0.83 MB\",\n    \"lastUploaded\": \"2025-07-21T11:30:00Z\"\n  }\n}"
            }
          ]
        },
        {
          "name": "Bulk Upload Documents",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "documents",
                  "value": "[{\"documentName\":\"Witness Statement\",\"caseDocumentType\":\"Witness Statement\",\"hearingDate\":\"2025-09-15\",\"confidentialFlag\":false,\"remarks\":\"Witness statement for case\"},{\"documentName\":\"Expert Report\",\"caseDocumentType\":\"Expert Report\",\"hearingDate\":\"2025-09-15\",\"confidentialFlag\":false,\"remarks\":\"Expert analysis report\"}]",
                  "type": "text",
                  "description": "Document metadata (JSON array)"
                },
                {
                  "key": "files",
                  "type": "file",
                  "src": [],
                  "description": "Document files to upload"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}/documents/bulk-upload",
              "host": ["{{base_url}}"],
              "path": ["legal-cases-enhanced", "{{case_id}}", "documents", "bulk-upload"]
            },
            "description": "Bulk upload multiple documents to an existing case"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "documents",
                      "value": "[{\"documentName\":\"Witness Statement\",\"caseDocumentType\":\"Witness Statement\"}]",
                      "type": "text"
                    },
                    {
                      "key": "files",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}/documents/bulk-upload",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced", "{{case_id}}", "documents", "bulk-upload"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": true,\n  \"message\": \"Bulk upload completed. Success: 2, Failed: 0\",\n  \"data\": {\n    \"success\": [\n      {\n        \"id\": \"doc-uuid-4\",\n        \"documentName\": \"Witness Statement\",\n        \"originalFileName\": \"witness_statement.pdf\",\n        \"caseDocumentType\": \"Witness Statement\",\n        \"hearingDate\": \"2025-09-15\",\n        \"confidentialFlag\": false,\n        \"remarks\": \"Witness statement for case\",\n        \"uploadDate\": \"2025-07-21T12:00:00Z\",\n        \"uploadedBy\": \"system\"\n      },\n      {\n        \"id\": \"doc-uuid-5\",\n        \"documentName\": \"Expert Report\",\n        \"originalFileName\": \"expert_report.pdf\",\n        \"caseDocumentType\": \"Expert Report\",\n        \"hearingDate\": \"2025-09-15\",\n        \"confidentialFlag\": false,\n        \"remarks\": \"Expert analysis report\",\n        \"uploadDate\": \"2025-07-21T12:00:00Z\",\n        \"uploadedBy\": \"system\"\n      }\n    ],\n    \"failed\": []\n  }\n}"
            }
          ]
        },
        {
          "name": "Delete Legal Case with Documents",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}",
              "host": ["{{base_url}}"],
              "path": ["legal-cases-enhanced", "{{case_id}}"]
            },
            "description": "Delete a legal case and all its associated documents"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced/{{case_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced", "{{case_id}}"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": true,\n  \"message\": \"Legal case and 3 documents deleted successfully\",\n  \"data\": {\n    \"caseId\": \"{{case_id}}\",\n    \"documentsDeleted\": 3,\n    \"storageCleanup\": {\n      \"localFilesDeleted\": 3,\n      \"awsFilesDeleted\": 0,\n      \"errors\": []\n    }\n  }\n}"
            },
            {
              "name": "Not Found Response",
              "originalRequest": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/legal-cases-enhanced/invalid-case-id",
                  "host": ["{{base_url}}"],
                  "path": ["legal-cases-enhanced", "invalid-case-id"]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"statusCode\": 404,\n  \"message\": \"Legal case not found\",\n  \"error\": \"Not Found\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Independent Document Management",
      "item": [
        {
          "name": "Upload Document to Case",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": [],
                  "description": "Document file to upload"
                },
                {
                  "key": "documentName",
                  "value": "Additional Evidence",
                  "type": "text",
                  "description": "Document name"
                },
                {
                  "key": "caseDocumentType",
                  "value": "Evidence",
                  "type": "text",
                  "description": "Document type"
                },
                {
                  "key": "hearingDate",
                  "value": "2025-09-15",
                  "type": "text",
                  "description": "Hearing date"
                },
                {
                  "key": "confidentialFlag",
                  "value": "false",
                  "type": "text",
                  "description": "Confidential flag"
                },
                {
                  "key": "remarks",
                  "value": "Additional evidence document",
                  "type": "text",
                  "description": "Remarks"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/legal-cases/{{case_id}}/documents/upload",
              "host": ["{{base_url}}"],
              "path": ["legal-cases", "{{case_id}}", "documents", "upload"]
            },
            "description": "Upload a single document to an existing case (independent of case operations)"
          }
        },
        {
          "name": "Get Case Documents",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/legal-cases/{{case_id}}/documents?page=1&limit=10&caseDocumentType=Evidence",
              "host": ["{{base_url}}"],
              "path": ["legal-cases", "{{case_id}}", "documents"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page"
                },
                {
                  "key": "caseDocumentType",
                  "value": "Evidence",
                  "description": "Filter by document type"
                }
              ]
            },
            "description": "Get all documents for a case with filtering"
          }
        },
        {
          "name": "Delete Case Document",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/legal-cases/{{case_id}}/documents/{{document_id}}",
              "host": ["{{base_url}}"],
              "path": ["legal-cases", "{{case_id}}", "documents", "{{document_id}}"]
            },
            "description": "Delete a specific document from a case"
          }
        }
      ]
    },
    {
      "name": "Standard Legal Case Management",
      "item": [
        {
          "name": "Create Legal Case (Standard)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"loanAccountNumber\": \"LN4567890\",\n  \"caseType\": \"Civil\",\n  \"courtName\": \"Mumbai Sessions Court\",\n  \"caseFiledDate\": \"2025-07-21\",\n  \"filingJurisdiction\": \"Mumbai, Maharashtra\",\n  \"currentStatus\": \"Filed\",\n  \"lawyerAssignedId\": \"uuid-lawyer-id\",\n  \"nextHearingDate\": \"2025-08-15\",\n  \"caseRemarks\": \"Initial case filing for loan default\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/legal-cases",
              "host": ["{{base_url}}"],
              "path": ["legal-cases"]
            },
            "description": "Create a legal case without documents (standard approach)"
          }
        },
        {
          "name": "Get All Legal Cases",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/legal-cases?page=1&limit=10&status=Filed",
              "host": ["{{base_url}}"],
              "path": ["legal-cases"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page"
                },
                {
                  "key": "status",
                  "value": "Filed",
                  "description": "Filter by status"
                }
              ]
            },
            "description": "Get all legal cases with filtering"
          }
        },
        {
          "name": "Get Legal Case by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/legal-cases/{{case_id}}",
              "host": ["{{base_url}}"],
              "path": ["legal-cases", "{{case_id}}"]
            },
            "description": "Get a specific legal case by ID"
          }
        },
        {
          "name": "Update Legal Case (Standard)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentStatus\": \"Under Trial\",\n  \"nextHearingDate\": \"2025-09-15\",\n  \"lastHearingOutcome\": \"Case adjourned to next hearing\",\n  \"caseRemarks\": \"Updated case remarks\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/legal-cases/{{case_id}}",
              "host": ["{{base_url}}"],
              "path": ["legal-cases", "{{case_id}}"]
            },
            "description": "Update a legal case without documents (standard approach)"
          }
        },
        {
          "name": "Delete Legal Case",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/legal-cases/{{case_id}}",
              "host": ["{{base_url}}"],
              "path": ["legal-cases", "{{case_id}}"]
            },
            "description": "Delete a legal case"
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set case_id variable if not already set",
          "if (!pm.collectionVariables.get('case_id')) {",
          "    // You can set a default case ID here or leave empty",
          "    pm.collectionVariables.set('case_id', '');",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test script for all requests",
          "console.log('Response Status:', pm.response.status);",
          "console.log('Response Time:', pm.response.responseTime + 'ms');",
          "",
          "// Test response status",
          "pm.test('Response status is successful', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);",
          "});",
          "",
          "// Test response time",
          "pm.test('Response time is less than 5000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});",
          "",
          "// Test response headers",
          "pm.test('Response has Content-Type header', function () {",
          "    pm.expect(pm.response.headers.get('Content-Type')).to.exist;",
          "});",
          "",
          "// Extract case_id from response if creating a new case",
          "if (pm.response.code === 201 && pm.response.json().data && pm.response.json().data.case) {",
          "    const caseId = pm.response.json().data.case.id;",
          "    pm.collectionVariables.set('case_id', caseId);",
          "    console.log('Case ID set to:', caseId);",
          "    ",
          "    // Test case creation response",
          "    pm.test('Case created successfully', function () {",
          "        pm.expect(pm.response.json().success).to.be.true;",
          "        pm.expect(pm.response.json().data.case).to.exist;",
          "        pm.expect(pm.response.json().data.case.id).to.exist;",
          "    });",
          "}",
          "",
          "// Extract document_id from response if uploading a document",
          "if (pm.response.code === 201 && pm.response.json().data && pm.response.json().data.documents) {",
          "    const documents = pm.response.json().data.documents;",
          "    if (documents.length > 0) {",
          "        pm.collectionVariables.set('document_id', documents[0].id);",
          "        console.log('Document ID set to:', documents[0].id);",
          "        ",
          "        // Test document upload response",
          "        pm.test('Documents uploaded successfully', function () {",
          "            pm.expect(pm.response.json().data.documents).to.be.an('array');",
          "            pm.expect(pm.response.json().data.documents.length).to.be.greaterThan(0);",
          "        });",
          "    }",
          "}",
          "",
          "// Test error responses",
          "if (pm.response.code >= 400) {",
          "    pm.test('Error response has proper structure', function () {",
          "        const jsonData = pm.response.json();",
          "        pm.expect(jsonData).to.have.property('statusCode');",
          "        pm.expect(jsonData).to.have.property('message');",
          "        pm.expect(jsonData).to.have.property('error');",
          "    });",
          "}",
          "",
          "// Test success responses",
          "if (pm.response.code < 400 && pm.response.json().success !== undefined) {",
          "    pm.test('Success response has proper structure', function () {",
          "        const jsonData = pm.response.json();",
          "        pm.expect(jsonData).to.have.property('success');",
          "        pm.expect(jsonData).to.have.property('message');",
          "        pm.expect(jsonData.success).to.be.true;",
          "    });",
          "}",
          "",
          "// Test specific endpoints",
          "if (pm.request.url.path.includes('with-documents')) {",
          "    pm.test('Case with documents response has all required fields', function () {",
          "        const jsonData = pm.response.json();",
          "        pm.expect(jsonData.data).to.have.property('case');",
          "        pm.expect(jsonData.data).to.have.property('documents');",
          "        pm.expect(jsonData.data).to.have.property('summary');",
          "    });",
          "}",
          "",
          "if (pm.request.url.path.includes('statistics')) {",
          "    pm.test('Statistics response has all required fields', function () {",
          "        const jsonData = pm.response.json();",
          "        pm.expect(jsonData.data).to.have.property('totalDocuments');",
          "        pm.expect(jsonData.data).to.have.property('documentsByType');",
          "        pm.expect(jsonData.data).to.have.property('totalSize');",
          "    });",
          "}"
        ]
      }
    }
  ]
}
